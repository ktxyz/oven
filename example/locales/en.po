#
msgid ""
msgstr ""

msgid "header_id"
msgstr "Header"

msgid "index-body"
msgstr ""
"# oven\n"
"Yet another static site generator powered by markdown, because I didn't like the other stuff\n"
"\n"
"It tries to follow the [K.I.S.S](https://en.wikipedia.org/wiki/KISS_principle) principle.\n"
"\n"
"## Installation\n"
"For now there is no python package that can be installed. Use repository instead.\n"
"\n"
"## Usage\n"
"### Config\n"
"#### Site configuration\n"
"Oven loads configuration from `oven.json` file. All the options are optional. Config is provided to every jinja2 template as `config` object.\n"
"Configured directories unless specified otherwise will be used relative to `CWD`.\n"
"\n"
"##### `source_dir`\n"
"Specifies directory with site source files.\n"
"##### `build_dir`\n"
"Specifies directory of the built site output.\n"
"##### `static_dir`\n"
"Specifies subdirectory inside `build_dir` that will contain all the static assets.\n"
"##### `theme_dir`\n"
"Specifies directory with jinja2 templates.\n"
"##### `default_template_name`\n"
"Specifies default template used with pages that don't override this themselves.\n"
"##### `locales_dir`\n"
"Specifies directory with .po files containing translations.\n"
"##### `locales_main`\n"
"Specifies main (default) language for the site.\n"
"##### `locales_langs`\n"
"Specifies all languages in which the site should be translated (should include the main as well)\n"
"##### `filters_dir`\n"
"Specifies directory with custom filters (see below).\n"
"##### `enabled_filters`\n"
"Specifies enabled filters. If empty all found filters will be enabled.\n"
"##### `scripts_dir`\n"
"Specifies directory with custom scripts (see below).\n"
"##### `enabled_scripts`\n"
"Specifies enabled scripts. If empty all found scripts will be enabled.\n"
"##### `extensions_dir`\n"
"Specifies directory with custom markdown extensions (see below).\n"
"##### `enabled_extensions`\n"
"Specifies enabled extensions. If empty all found extensions will be enabled.\n"
"##### `site_url`\n"
"Specifies url for the site.\n"
"##### `site_timezone`\n"
"Specifies timezone used for the site.\n"
"\n"
"#### Page configuration\n"
"Every page can be additionally configured by providing `config.json` file in its directory.\n"
"##### `template_name`\n"
"Overrides template file used for the page\n"
"##### `output_name`\n"
"Overrides output directory of the page (by default it will be the same as source).\n"
"\n"
"### Gathering\n"
"```bash\n"
"python -m oven gather\n"
"```\n"
"\n"
"### Building\n"
"```bash\n"
"python -m oven build\n"
"```\n"
"\n"
"## Features\n"
"### Generating\n"
"Oven iterates over directories in `source_dir`. Every page should have its own, separate folder containing `.md` files and optional `context.json` and `config.json` files.\n"
"\n"
"Each `.md` file will be passed to template as a context variable, named like the file.\n"
"\n"
"### Translations\n"
"Oven has built-in translation features. It uses `.po` files. You can update them with `gather`, which gathers texts from .md files and all templates.\n"
"\n"
"For now there is no support for localized assets.\n"
"\n"
"### Filters\n"
"Custom jinja2 filters can be defined in the `filters_dir` folder. Every filter should be a separate python file\n"
"that defines the filter function named `custom_filter` and a variable containing the name of the filter named `FILTER_NAME`.\n"
"\n"
"List of internally shipped filters:\n"
"* `get_text` - provides integration with oven translation both during gather and build.\n"
"* `get_url` - provides integration with resolving urls for oven pages and static files.\n"
"\n"
"##### Example\n"
"This is an example custom filter from `oven/internal_scripts/curent_time.py` file.\n"
"\n"
"```python\n"
"from typing import Optional\n"
"\n"
"from oven.trans import Translator\n"
"\n"
"\n"
"FILTER_NAME = 'gettext'\n"
"\n"
"\n"
"def custom_filter(msgid: str, msgstr: Optional[str] = '', lang: Optional[str] = 'en') -> str:\n"
"    trans = Translator()\n"
"\n"
"    if trans.config.is_gather_config():\n"
"        trans.add_text(msgid, msgstr)\n"
"        return ''\n"
"    return trans.get_text(msgid, lang)\n"
"```\n"
"\n"
"### Extensions\n"
"You can define custom markdown extensions in the `extensions_dir` folder.\n"
"\n"
"List of internally shipped extensions:\n"
"* `oven_urls` - Extension replaces non-absolute urls with jinja2 filter `get_url` that handles resolving them.\n"
"\n"
"#### Example\n"
"This is an example extension in the ```oven/internal_extensions/oven_urls.py``` file that changes urls into custom resolved ones.\n"
"\n"
"```python\n"
"from urllib.parse import urlparse\n"
"import xml.etree.ElementTree as etree\n"
"\n"
"from markdown import Markdown, Extension\n"
"from markdown.treeprocessors import Treeprocessor\n"
"\n"
"\n"
"class OvenURLsProcessor(Treeprocessor):\n"
"    def run(self, root: etree):\n"
"        self.__update_links(root)\n"
"\n"
"    def __update_links(self, node: etree.Element):\n"
"        if node.attrib.get('href'):\n"
"            url = urlparse(node.attrib['href'])\n"
"            if not url.netloc:\n"
"                node.attrib['href'] = '{{ ' + f'\\'{node.attrib[\"href\"]}\\' | geturl(lang)' + ' }}'\n"
"        elif node.attrib.get('src'):\n"
"            url = urlparse(node.attrib['src'])\n"
"            if not url.netloc:\n"
"                node.attrib['src'] = '{{ ' + f'\\'{node.attrib[\"src\"]}__asset\\' | geturl(lang)' + ' }}'\n"
"        for child in node:\n"
"            self.__update_links(child)\n"
"\n"
"\n"
"class OvenURLsExtension(Extension):\n"
"    def extendMarkdown(self, md: Markdown) -> None:\n"
"        md.treeprocessors.register(OvenURLsProcessor(md), EXTENSION_NAME, 1)\n"
"\n"
"\n"
"def makeExtension(**kwargs):\n"
"    return OvenURLsExtension(**kwargs)\n"
"\n"
"\n"
"EXTENSION_NAME = \"oven_urls\"\n"
"EXTENSION_CLASS = OvenURLsExtension\n"
"```\n"
"\n"
"### Scripts\n"
"You can define scripts in the `script_dir` folder, that will be automatically detected.\n"
"For now, they are executed before/after the site is generated, but I have an idea of creating markings for different\n"
"pipeline stages that scripts could register themselves in.\n"
"\n"
"In config file you can specify custom script configuration, that will be passed to `execute_script` function as `**kwargs`:\n"
"```json\n"
"{\n"
"  \"scripts_config\": {\n"
"    \"robots.txt\": {\n"
"      \"output_file\": \"robots.txt\"\n"
"    },\n"
"    \"sitemap.xml\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ]\n"
"    },\n"
"    \"clean\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ]\n"
"    },\n"
"    \"archive\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ],\n"
"      \"generate_zip\": true,\n"
"      \"zip_dir\": \"_archive\",\n"
"      \"generate_raw\": true,\n"
"      \"raw_dir\": \"_archive\"\n"
"    },\n"
"    \"assets\": {\n"
"      \"ignore_paths\": [\n"
"        \"build\"\n"
"      ],\n"
"      \"types\": [\n"
"        \".css\",\n"
"        \".js\",\n"
"        \".png\",\n"
"        \".otf\",\n"
"        \".pdf\",\n"
"        \".svg\"\n"
"      ]\n"
"    }\n"
"  }\n"
"}\n"
"```\n"
"\n"
"List of internally shipped extensions:\n"
"* `archive` - script that creates archives of built page, either as .zip files or as accessible in `build_dir` raw copies.\n"
"* `assets` - scripts that gathers and copies static files into the `build_dir`.\n"
"* `clean` - script that performs cleaning before building the site.\n"
"* `robots.txt` - script creates `robots.txt` file after build is complete.\n"
"* `sitemap.xml` - script creates `sitemap.xml` file after build is complete.\n"
"\n"
"#### Example\n"
"This is an example script in the ```oven/internal_scripts/sitemap.py``` file. It generates `sitemap.xml` file after the\n"
"site has been generated.\n"
"\n"
"```python\n"
"import logging\n"
"from typing import List\n"
"from pathlib import Path\n"
"from datetime import datetime\n"
"from xml.etree import ElementTree as ET\n"
"\n"
"import pytz\n"
"\n"
"from oven.utils import EOvenScriptExecTime\n"
"from oven.config import Config\n"
"\n"
"SCRIPT_NAME = 'sitemap.xml'\n"
"SCRIPT_EXEC_TIME = EOvenScriptExecTime.FINISH_BUILD\n"
"SCRIPT_ORDER = 1\n"
"\n"
"\n"
"def parse_date(date: datetime, timezone: str) -> str:\n"
"    tz = pytz.timezone(timezone)\n"
"    return str(tz.localize(date))\n"
"\n"
"\n"
"def build_sitemap(path: Path, ignore_paths: List[str], url: str, timezone: str) -> ET.ElementTree:\n"
"    sitemap = ET.Element('urlset', xmlns='https://www.sitemaps.org/schemas/sitemap/0.9')\n"
"\n"
"    def transform_ignore_path(ignore_path: str) -> Path:\n"
"        return path / ignore_path\n"
"    ignore_paths = list(map(transform_ignore_path, ignore_paths))\n"
"\n"
"    def iter_build_sitemap(current_dir: Path):\n"
"        for entry in current_dir.iterdir():\n"
"            if entry in ignore_paths:\n"
"                continue\n"
"            elif entry.is_dir():\n"
"                iter_build_sitemap(entry)\n"
"            elif entry.is_file():\n"
"                file_url = str(entry).replace(str(path), url)\n"
"\n"
"                url_element = ET.SubElement(sitemap, 'url')\n"
"                loc_element = ET.SubElement(url_element, 'loc')\n"
"                loc_element.text = file_url\n"
"                lastmod_element = ET.SubElement(url_element, 'lastmod')\n"
"                lastmod_element.text = parse_date(datetime.fromtimestamp(entry.stat().st_mtime), timezone)\n"
"\n"
"    iter_build_sitemap(path)\n"
"    tree = ET.ElementTree(sitemap)\n"
"    ET.indent(tree, space='\\t')\n"
"    return tree\n"
"\n"
"\n"
"def execute_script(config: Config, **kwargs) -> None:\n"
"    output_file = 'sitemap.xml'\n"
"    ignore_paths = kwargs.get('ignore_paths', [])\n"
"\n"
"    logging.info(f'[{SCRIPT_NAME}] generating {output_file} file')\n"
"    build_sitemap(config.build_path, ignore_paths, config.site_url, config.site_timezone).write(\n"
"        config.build_path / output_file, encoding='utf-8')\n"
"```\n"
"\n"
"#### Managing scripts from arguments\n"
"Some scripts should only be run from time to time, not for every build (like an archive script). We can manually override `enabled_scripts` configuration with arguments:\n"
"\n"
"* `--enable-scripts` - comma seperated list of scripts names that will be appended to ones read from config\n"
"* `--disable-scripts` - comma seperated list of scripts names that will be removed from ones read from config\n"
"* `--force-scripts` - comma seperated list of scripts names that will override ones from config\n"
"\n"
"## Issues\n"
"### Usability\n"
"Code and features flexibility is a bit iffy from UX standpoint. This should be resolved over time, as I use the system\n"
"and expand on it more.\n"
"### Performance\n"
"There are areas in code where unnecessary work is done. Some parts of it can be optimized by simply having a better architecture.\n"
"\n"
"## Contributions\n"
"I'm very open to contributions for anything: features, enhancements or refactors.\n"
"If some code seems ~~stupid~~ like it use an improvement please don't hesitate to add a new issue\n"
"or pull request yourself if you will.\n"

msgid "index-top"
msgstr ""
"# oven\n"
"Yet another static site generator powered by markdown, because I didn't like the other stuff\n"
"\n"
"It tries to follow the [K.I.S.S](https://en.wikipedia.org/wiki/KISS_principle) principle.\n"
"\n"
"## Installation\n"
"For now there is no python package that can be installed. Use repository instead.\n"
"\n"
"## Usage\n"
"### Config\n"
"#### Site configuration\n"
"Oven loads configuration from `oven.json` file. All the options are optional. Config is provided to every jinja2 template as `config` object.\n"
"Configured directories unless specified otherwise will be used relative to `CWD`.\n"
"\n"
"##### `source_dir`\n"
"Specifies directory with site source files.\n"
"##### `build_dir`\n"
"Specifies directory of the built site output.\n"
"##### `static_dir`\n"
"Specifies subdirectory inside `build_dir` that will contain all the static assets.\n"
"##### `theme_dir`\n"
"Specifies directory with jinja2 templates.\n"
"##### `default_template_name`\n"
"Specifies default template used with pages that don't override this themselves.\n"
"##### `locales_dir`\n"
"Specifies directory with .po files containing translations.\n"
"##### `locales_main`\n"
"Specifies main (default) language for the site.\n"
"##### `locales_langs`\n"
"Specifies all languages in which the site should be translated (should include the main as well)\n"
"##### `filters_dir`\n"
"Specifies directory with custom filters (see below).\n"
"##### `enabled_filters`\n"
"Specifies enabled filters. If empty all found filters will be enabled.\n"
"##### `scripts_dir`\n"
"Specifies directory with custom scripts (see below).\n"
"##### `enabled_scripts`\n"
"Specifies enabled scripts. If empty all found scripts will be enabled.\n"
"##### `extensions_dir`\n"
"Specifies directory with custom markdown extensions (see below).\n"
"##### `enabled_extensions`\n"
"Specifies enabled extensions. If empty all found extensions will be enabled.\n"
"##### `site_url`\n"
"Specifies url for the site.\n"
"##### `site_timezone`\n"
"Specifies timezone used for the site.\n"
"\n"
"#### Page configuration\n"
"Every page can be additionally configured by providing `config.json` file in its directory.\n"
"##### `template_name`\n"
"Overrides template file used for the page\n"
"##### `output_name`\n"
"Overrides output directory of the page (by default it will be the same as source).\n"
"\n"
"### Gathering\n"
"```bash\n"
"python -m oven gather\n"
"```\n"
"\n"
"### Building\n"
"```bash\n"
"python -m oven build\n"
"```\n"
"\n"
"## Features\n"
"### Generating\n"
"Oven iterates over directories in `source_dir`. Every page should have its own, separate folder containing `.md` files and optional `context.json` and `config.json` files.\n"
"\n"
"Each `.md` file will be passed to template as a context variable, named like the file.\n"
"\n"
"### Translations\n"
"Oven has built-in translation features. It uses `.po` files. You can update them with `gather`, which gathers texts from .md files and all templates.\n"
"\n"
"For now there is no support for localized assets.\n"
"\n"
"### Filters\n"
"Custom jinja2 filters can be defined in the `filters_dir` folder. Every filter should be a separate python file\n"
"that defines the filter function named `custom_filter` and a variable containing the name of the filter named `FILTER_NAME`.\n"
"\n"
"List of internally shipped filters:\n"
"* `get_text` - provides integration with oven translation both during gather and build.\n"
"* `get_url` - provides integration with resolving urls for oven pages and static files.\n"
"\n"
"##### Example\n"
"This is an example custom filter from `oven/internal_scripts/curent_time.py` file.\n"
"\n"

msgid "index-filters_code"
msgstr ""
"```\n"
"from typing import Optional\n"
"\n"
"from oven.trans import Translator\n"
"\n"
"\n"
"FILTER_NAME = 'gettext'\n"
"\n"
"\n"
"def custom_filter(msgid: str, msgstr: Optional[str] = '', lang: Optional[str] = 'en') -> str:\n"
"    trans = Translator()\n"
"\n"
"    if trans.config.is_gather_config():\n"
"        trans.add_text(msgid, msgstr)\n"
"        return ''\n"
"    return trans.get_text(msgid, lang)\n"
"```\n"

msgid "index-extensions_code"
msgstr ""
"```\n"
"from urllib.parse import urlparse\n"
"import xml.etree.ElementTree as etree\n"
"\n"
"from markdown import Markdown, Extension\n"
"from markdown.treeprocessors import Treeprocessor\n"
"\n"
"\n"
"class OvenURLsProcessor(Treeprocessor):\n"
"    def run(self, root: etree):\n"
"        self.__update_links(root)\n"
"\n"
"    def __update_links(self, node: etree.Element):\n"
"        if node.attrib.get('href'):\n"
"            url = urlparse(node.attrib['href'])\n"
"            if not url.netloc:\n"
"                node.attrib['href'] = '{{ ' + f'\\'{node.attrib[\"href\"]}\\' | geturl(lang)' + ' }}'\n"
"        elif node.attrib.get('src'):\n"
"            url = urlparse(node.attrib['src'])\n"
"            if not url.netloc:\n"
"                node.attrib['src'] = '{{ ' + f'\\'{node.attrib[\"src\"]}__asset\\' | geturl(lang)' + ' }}'\n"
"        for child in node:\n"
"            self.__update_links(child)\n"
"\n"
"\n"
"class OvenURLsExtension(Extension):\n"
"    def extendMarkdown(self, md: Markdown) -> None:\n"
"        md.treeprocessors.register(OvenURLsProcessor(md), EXTENSION_NAME, 1)\n"
"\n"
"\n"
"def makeExtension(**kwargs):\n"
"    return OvenURLsExtension(**kwargs)\n"
"\n"
"\n"
"EXTENSION_NAME = \"oven_urls\"\n"
"EXTENSION_CLASS = OvenURLsExtension\n"
"```\n"

msgid "index-after_filters"
msgstr ""
"### Extensions\n"
"You can define custom markdown extensions in the `extensions_dir` folder.\n"
"\n"
"List of internally shipped extensions:\n"
"* `oven_urls` - Extension replaces non-absolute urls with jinja2 filter `get_url` that handles resolving them.\n"
"\n"
"#### Example\n"
"This is an example extension in the ```oven/internal_extensions/oven_urls.py``` file that changes urls into custom resolved ones.\n"

msgid "index-after_extensions"
msgstr ""
"### Scripts\n"
"You can define scripts in the `script_dir` folder, that will be automatically detected.\n"
"For now, they are executed before/after the site is generated, but I have an idea of creating markings for different\n"
"pipeline stages that scripts could register themselves in.\n"
"\n"
"In config file you can specify custom script configuration, that will be passed to `execute_script` function as `**kwargs`:\n"
"```json\n"
"{\n"
"  \"scripts_config\": {\n"
"    \"robots.txt\": {\n"
"      \"output_file\": \"robots.txt\"\n"
"    },\n"
"    \"sitemap.xml\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ]\n"
"    },\n"
"    \"clean\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ]\n"
"    },\n"
"    \"archive\": {\n"
"      \"ignore_paths\": [\n"
"        \"_archive\"\n"
"      ],\n"
"      \"generate_zip\": true,\n"
"      \"zip_dir\": \"_archive\",\n"
"      \"generate_raw\": true,\n"
"      \"raw_dir\": \"_archive\"\n"
"    },\n"
"    \"assets\": {\n"
"      \"ignore_paths\": [\n"
"        \"build\"\n"
"      ],\n"
"      \"types\": [\n"
"        \".css\",\n"
"        \".js\",\n"
"        \".png\",\n"
"        \".otf\",\n"
"        \".pdf\",\n"
"        \".svg\"\n"
"      ]\n"
"    }\n"
"  }\n"
"}\n"
"```\n"
"\n"
"List of internally shipped extensions:\n"
"* `archive` - script that creates archives of built page, either as .zip files or as accessible in `build_dir` raw copies.\n"
"* `assets` - scripts that gathers and copies static files into the `build_dir`.\n"
"* `clean` - script that performs cleaning before building the site.\n"
"* `robots.txt` - script creates `robots.txt` file after build is complete.\n"
"* `sitemap.xml` - script creates `sitemap.xml` file after build is complete.\n"
"\n"
"#### Example\n"
"This is an example script in the ```oven/internal_scripts/sitemap.py``` file. It generates `sitemap.xml` file after the\n"
"site has been generated.\n"
"\n"

msgid "index-scripts_code"
msgstr ""
"```\n"
"import logging\n"
"from typing import List\n"
"from pathlib import Path\n"
"from datetime import datetime\n"
"from xml.etree import ElementTree as ET\n"
"\n"
"import pytz\n"
"\n"
"from oven.utils import EOvenScriptExecTime\n"
"from oven.config import Config\n"
"\n"
"SCRIPT_NAME = 'sitemap.xml'\n"
"SCRIPT_EXEC_TIME = EOvenScriptExecTime.FINISH_BUILD\n"
"SCRIPT_ORDER = 1\n"
"\n"
"\n"
"def parse_date(date: datetime, timezone: str) -> str:\n"
"    tz = pytz.timezone(timezone)\n"
"    return str(tz.localize(date))\n"
"\n"
"\n"
"def build_sitemap(path: Path, ignore_paths: List[str], url: str, timezone: str) -> ET.ElementTree:\n"
"    sitemap = ET.Element('urlset', xmlns='https://www.sitemaps.org/schemas/sitemap/0.9')\n"
"\n"
"    def transform_ignore_path(ignore_path: str) -> Path:\n"
"        return path / ignore_path\n"
"    ignore_paths = list(map(transform_ignore_path, ignore_paths))\n"
"\n"
"    def iter_build_sitemap(current_dir: Path):\n"
"        for entry in current_dir.iterdir():\n"
"            if entry in ignore_paths:\n"
"                continue\n"
"            elif entry.is_dir():\n"
"                iter_build_sitemap(entry)\n"
"            elif entry.is_file():\n"
"                file_url = str(entry).replace(str(path), url)\n"
"\n"
"                url_element = ET.SubElement(sitemap, 'url')\n"
"                loc_element = ET.SubElement(url_element, 'loc')\n"
"                loc_element.text = file_url\n"
"                lastmod_element = ET.SubElement(url_element, 'lastmod')\n"
"                lastmod_element.text = parse_date(datetime.fromtimestamp(entry.stat().st_mtime), timezone)\n"
"\n"
"    iter_build_sitemap(path)\n"
"    tree = ET.ElementTree(sitemap)\n"
"    ET.indent(tree, space='\\t')\n"
"    return tree\n"
"\n"
"\n"
"def execute_script(config: Config, **kwargs) -> None:\n"
"    output_file = 'sitemap.xml'\n"
"    ignore_paths = kwargs.get('ignore_paths', [])\n"
"\n"
"    logging.info(f'[{SCRIPT_NAME}] generating {output_file} file')\n"
"    build_sitemap(config.build_path, ignore_paths, config.site_url, config.site_timezone).write(\n"
"        config.build_path / output_file, encoding='utf-8')\n"
"```\n"

msgid "index-after_scripts"
msgstr ""
"#### Managing scripts from arguments\n"
"Some scripts should only be run from time to time, not for every build (like an archive script). We can manually override `enabled_scripts` configuration with arguments:\n"
"\n"
"* `--enable-scripts` - comma seperated list of scripts names that will be appended to ones read from config\n"
"* `--disable-scripts` - comma seperated list of scripts names that will be removed from ones read from config\n"
"* `--force-scripts` - comma seperated list of scripts names that will override ones from config\n"
"\n"
"## Issues\n"
"### Tests\n"
"There are no tests in place. I don't believe in unit testing...nah, I'm just a bit lazy. They'll come in time.\n"
"### Usability\n"
"Code and features flexibility is a bit iffy from UX standpoint. This should be resolved over time, as I use the system\n"
"and expand on it more.\n"
"### Performance\n"
"There are areas in code where unnecessary work is done. Some parts of it can be optimized by simply having a better architecture.\n"
"\n"
"## Contributions\n"
"I'm very open to contributions for anything: features, enhancements or refactors.\n"
"If some code seems ~~stupid~~ like it use an improvement please don't hesitate to add a new issue\n"
"or pull request yourself if you will.\n"
"\n"
